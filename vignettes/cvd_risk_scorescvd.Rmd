---
title: "cvd_risk_scorescvd"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{cvd_risk_scorescvd}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include=FALSE}
knitr::opts_chunk$set(comment = "#", collapse = TRUE)
knitr::opts_knit$set(purl = FALSE)
```

## Overview

`cvd_risk_scorescvd()` is a thin passthrough to `RiskScorescvd::calc_scores()`, returning whatever that backend produces. It aborts if the optional package is missing and falls back to an `NA` row on backend errors.

## Required Inputs

- `data`: data.frame/tibble with the variables required by `RiskScorescvd::calc_scores()`.
- RiskScorescvd package must be installed; otherwise the function aborts.

## Key Arguments

- `...`: forwarded directly to `RiskScorescvd::calc_scores()`.

## Output Description

Returns the object produced by `RiskScorescvd::calc_scores()`. If the backend errors, a tibble with `model = "RiskScorescvd"`, `year = NA`, and `risk/value = NA` is returned to keep downstream results rectangular (e.g., in `cvd_risk(model = "ALL")`).

## Minimal Reproducible Example

```{r}
library(HealthMarkers)

if (requireNamespace("RiskScorescvd", quietly = TRUE)) {
  # Replace `your_riskscores_data` with inputs expected by RiskScorescvd
  # rs <- cvd_risk_scorescvd(your_riskscores_data)
}
```

## Extended Example

Pass through additional arguments to the backend calculator:

```{r}
if (requireNamespace("RiskScorescvd", quietly = TRUE)) {
  # rs <- cvd_risk_scorescvd(your_riskscores_data, some_option = TRUE)
}
```

## Notes / Workflow Integration

- Ensure `RiskScorescvd` is installed; otherwise this wrapper aborts. When called inside `cvd_risk(model = "ALL")`, errors are caught and replaced with an `NA` row placeholder.
- No input coercion or validation is added beyond delegating to `RiskScorescvd::calc_scores()`.
- Output type follows the backend; handle accordingly in downstream workflows.