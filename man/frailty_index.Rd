% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/frailty_index.R
\name{frailty_index}
\alias{frailty_index}
\alias{plot_frailty_age}
\title{Compute Frailty (Deficit) Index}
\usage{
frailty_index(
  data,
  cols = NULL,
  invert = NULL,
  rescale = TRUE,
  age = NULL,
  rescale.custom = NULL,
  rescale.avoid = NULL,
  bins = 7,
  visible = FALSE
)

plot_frailty_age(
  data,
  cols = NULL,
  invert = NULL,
  rescale = TRUE,
  age = NULL,
  rescale.custom = NULL,
  rescale.avoid = NULL,
  bins = 7
)
}
\arguments{
\item{data}{A \code{data.frame} or \code{tibble} of health deficit variables (0/1 or logical).}

\item{cols}{Character vector of names of deficit columns to use.  If \code{NULL},
all numeric columns except \code{age} (if set) will be used.}

\item{invert}{Character vector of column names whose values should be inverted.}

\item{rescale}{Logical; if \code{TRUE}, non–0/1 columns will be rescaled to \link{0,1}.}

\item{age}{Name of the column holding age (for plotting only).}

\item{rescale.custom}{Character vector of custom rescaling specs (see \code{di::di}).}

\item{rescale.avoid}{Character vector of columns to skip during rescaling.}

\item{bins}{Number of age‐bins for the DI‐vs‐age plot.}

\item{visible}{Logical; if \code{TRUE} and \code{age} is set, calls \code{plot.di()} internally.}
}
\value{
A list with components:
\itemize{
\item \code{di}      : numeric vector of individual frailty index scores (0–1)
\item \code{columns} : the (possibly rescaled) data columns actually used
}
}
\description{
Thin‐wrapper around \strong{di}’s \code{di()} function.  Coerces tibbles to pure data.frames
(so that \code{di()}’s internal \verb{if (class(dat) != "data.frame")} check passes),
auto‐selects deficit columns if none are specified, and exposes the same
arguments as \code{di::di()}, plus a convenience \code{plot_frailty_age()} wrapper.
}
