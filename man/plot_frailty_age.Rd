% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/frailty_index.R
\name{plot_frailty_age}
\alias{plot_frailty_age}
\title{Plot FI vs age (convenience wrapper)}
\usage{
plot_frailty_age(
  data,
  cols = NULL,
  invert = NULL,
  rescale = TRUE,
  age = NULL,
  rescale.custom = NULL,
  rescale.avoid = NULL,
  bins = 7,
  na_action = c("ignore", "warn", "error"),
  na_warn_prop = 0.2,
  extreme_action = c("warn", "ignore", "error", "cap"),
  return = c("list", "data"),
  verbose = FALSE
)
}
\arguments{
\item{data}{A data.frame or tibble of health deficits (ideally binary/logical or
scaled to \link{0,1}). Non-binary numeric columns can be rescaled by di::di when
rescale = TRUE.}

\item{cols}{Character vector of deficit column names to use. If NULL (default),
all numeric columns are used except age (if supplied).}

\item{invert}{Character vector of column names whose values should be inverted
by di::di (e.g., where higher values indicate better health).}

\item{rescale}{Logical; if TRUE, non-binary columns will be rescaled to \link{0,1}
by di::di. Default TRUE.}

\item{age}{Optional name of the column holding age (used by di for plotting and
optional age-binned outputs; excluded from auto-selected cols).}

\item{rescale.custom}{rescale.avoid Advanced arguments passed through to di::di.
See di::di documentation for syntax.}

\item{bins}{Integer; number of age bins for FI-by-age plots. Default 7.}

\item{na_action}{One of c("ignore","warn","error") controlling behavior when
missing values are detected in selected deficit columns before calling di.
Default "ignore".}

\item{na_warn_prop}{Proportion in \link{0,1} above which a high-missingness warning
is emitted (per column) when na_action = "warn". Default 0.2.}

\item{extreme_action}{One of c("ignore","warn","error","cap") controlling behavior
when out-of-range values (< 0 or > 1) are found in selected columns BEFORE
calling di. When rescale = TRUE, many numeric columns may be outside \link{0,1};
in that case only values outside \link{0,1} in logical or already-binary columns
are considered extreme. If "cap", such values are truncated into \link{0,1} prior
to calling di. Default "warn".}

\item{return}{One of c("list","data"). "list" (default) returns the original
di::di result (backward compatible). "data" returns a tibble with one row
per individual, columns: di (the frailty index) plus the selected deficit
columns (post-capping if applied). Age is included if present.}

\item{verbose}{Logical; if TRUE, prints progress and a completion summary. Default FALSE.}
}
\value{
The object returned by frailty_index() (di::di object if return="list").
}
\description{
Calls frailty_index() with visible = TRUE; see frailty_index() for arguments,
validation, and references.
}
